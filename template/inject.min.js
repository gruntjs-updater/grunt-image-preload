window.PRELOADER=function(a){var b;return b=function(){function b(a){var b,c;for(b in a)c=a[b],this.options[b]=c}return b.prototype.options={complete:function(){},progress:function(){},threads:1},b.prototype.getPreload=function(){return[].concat(a)},b.prototype.load=function(){var b,c,d,e,f,g,h,i,j=this;for(this.startLoading=new Date,e={index:0,procent:0,getPersent:function(){return this.procent+=1,100*this.procent/a.length},next:function(){var b;return a.length<=this.index?null:(b=a[this.index],this.index+=1,b)}},f=this.options.threads-1,b=0,c=function(){return b>=f&&j.options.complete(),b+=1},this.startLoading=new Date,i=[],d=g=0,h=this.options.threads-1;h>=0?h>=g:g>=h;d=h>=0?++g:--g)i.push(this.loadImage(d,e,c));return i},b.prototype.getImageObject=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(null==this._getImageObject&&(this._getImageObject={}),e=this._getImageObject[a]||(this._getImageObject[a]={img:new Image,fn:null}),d=["load","error"],null!=e.fn)if(e.img.removeEventListener)for(f=0,j=d.length;j>f;f++)c=d[f],e.img.removeEventListener(c,e.fn,!1);else if(img.detachEvent)for(g=0,k=d.length;k>g;g++)c=d[g],e.img.detachEvent("on"+c,e.fn);if(e.fn=b,e.img.addEventListener)for(h=0,l=d.length;l>h;h++)c=d[h],e.img.addEventListener(c,e.fn,!1);else if(e.img.attachEvent)for(i=0,m=d.length;m>i;i++)c=d[i],e.img.attachEvent("on"+c,e.fn);return e.img},b.prototype.loadImage=function(a,b,c){var d,e,f=this;return(e=b.next())?(d=this.getImageObject(a,function(e){var g;return g=null!=e?e.type:void 0,f.options.progress(b.getPersent(),d.src,g,new Date-f.startLoading),f.loadImage(a,b,c)}),d.src=e):c()},b}()};